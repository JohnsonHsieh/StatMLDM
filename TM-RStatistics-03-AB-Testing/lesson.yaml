- Class: meta
  Course: StatMLDM
  Lesson: TM-RStatistics-03-AB-Testing
  Author: Johnson Hsieh
  Type: Standard
  Organization: Taiwan R User Group
  Version: 2.3.1.2
- Class: text
  Output: |
    A/B測試 (A/B Testing)，又稱隨機對照實驗 (Random Control Trial, RCT)
    是一種透過實驗方式比較方案成效的統計方法，也是一種能夠驗證因果關係的方式。
    透過以下範例將帶同學熟悉如何在R 中進行A/B測試。

- Class: cmd_question
  Output: |
    範例1. 板球顏色與球員移動速度實驗，實驗數據收錄在變數`cricket_color`中。
    請同學輸入`cricket_color`以觀察這份實驗數據。
  CorrectAnswer: cricket_color
  AnswerTests: omnitest('cricket_color')
  Hint: cricket_color

- Class: text
  Output: |
    這份資料共包含兩個欄位，板球顏色(color, 1=red, 2=white)、移動初速(speed, 毫秒)。

- Class: cmd_question
  Output: |
    練習使用R 套件 `dplyr` 對 `cricket_color` 做敘述統計，請同學先輸入`library(dplyr)`載入套件。
  CorrectAnswer: library(dplyr)
  AnswerTests: omnitest('library(dplyr)')
  Hint: library(dplyr)

- Class: script
  Output: |
    請使用`dplyr`對不同板球顏色分別計算移動初速的平均數與標準差。
    完成後，請存檔並回到console輸入`submit()`
  Script: rstatistics-03-01-01.R
  AnswerTests: rstatistics_03_01_01()

- Class: text
  Output: |
    紅色球設定之下，球員的平均(標準差)移動初速為 156.667 (31.213)；
    白色球設定之下，球員的平均(標準差)移動初速為 111.000 (20.100)。
    看起來兩種顏色對於球員移動初速的平均值有所差異，標準差也有差異。

- Class: cmd_question
  Output: |
    練習使用R 內建的 plot 函數做視覺化篩檢，
    請同學輸入 `plot(speed~color, data=cricket_color)`
  CorrectAnswer: plot(speed~color, data=cricket_color)
  AnswerTests: omnitest('plot(speed~color, data=cricket_color)')
  Hint: plott(speed~color, data=cricket_color)

- Class: text
  Output: |
    觀察boxplot可以發現，左圖(color=red)的box明顯高於右圖，
    也就是說紅色球讓球員有高於白色球的移動初速。
    本例中的 boxplot 是一種適合作為比較不同試驗方案優劣的dashboard。

- Class: text
  Output: |
    然而在實務上，我們仍需要一個數值指標作為差異性的自動化篩檢。
    古典統計學會使用p值作為衡量標準。

- Class: cmd_question
  Output: |
    練習使用R 內建的 T-test 函數做A/B測試，並計算p值，
    請同學輸入 `t.test(speed~color, data=cricket_color)`
  CorrectAnswer: t.test(speed~color, data=cricket_color)
  AnswerTests: omnitest('t.test(speed~color, data=cricket_color)')
  Hint: t.test(speed~color, data=cricket_color)

- Class: text
  Output: |
    由上述結果可知 p值=0.0177，表示在兩種顏色沒有差異的假設下，比觀察值更極端的機率為0.0177。
    關於p值的解釋請參考 <https://en.wikipedia.org/wiki/P-value>

- Class: text
  Output: |
    範例2. 考慮A、B兩種網頁排版方案，比較會員註冊的成效。
    在同一時間內隨機分派訪客進入A、B兩種排版的網頁，其中A版本在2,981個瀏覽數中有343個註冊數；
    B版本在2,945個瀏覽數中有403個註冊數。A版本的轉換率為11.5%；B版本為13.7%。

- Class: cmd_question
  Output: |
    練習使用R 內建的比例檢定函數做轉換率A/B測試，並計算p值，
    請同學輸入 `prop.test(x=c(343,403), n=c(2981,2945))`
  CorrectAnswer: prop.test(x=c(343,403), n=c(2981,2945))
  AnswerTests: omnitest('prop.test(x=c(343,403), n=c(2981,2945))')
  Hint: prop.test(x=c(343,403), n=c(2981,2945))

- Class: script
  Output: |
    轉換率問題，也可以使用`t.test`達到類似的結果。
    完成後，請存檔並回到console輸入`submit()`
  Script: rstatistics-03-02-01.R
  AnswerTests: rstatistics_03_02_01()
